<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kontakt</title>
	<link rel="stylesheet" type="text/css" href="CSS/kontakt.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Dokdo&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
       (function(){
          emailjs.init({
            publicKey: "PKj2ugdBaRJMej3v-",
          });
       })();
      
      function SendMail() {
        var ime = document.getElementById("ime").value;
        var email = document.getElementById("email").value;
        var poruka = document.getElementById("poruka").value;
        
        // Provjeri jesu li sva polja ispunjena
        if (!ime || !email || !poruka) {
            alert('Molimo, ispunite sva polja forme prije slanja.');
            return;
        }
		
		 var emailFormat = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!email.match(emailFormat)) {
        alert('Molimo, unesite ispravnu email adresu.');
        return;
    }

        var params = {
          ime: ime,
          email: email,
          poruka: poruka
        };
        
        emailjs.send("service_1hvea6r", "template_j78u7yd", params)
          .then(function(res) {
            alert("Uspješno poslano!");
			document.getElementById("kontakt").reset();
          })
          .catch(function(error) {
            console.error('Došlo je do greške pri slanju e-pošte:', error);
            alert('Došlo je do greške pri slanju e-pošte. Molimo pokušajte ponovno.');
          });
      }
    </script>
    
    
</head>

<body>

<nav>
    <div class="logo">
        <img src="slike/logo.png" alt="Logo">
    </div>

    <div class="meni">
        <a href="dj daniel petric.html">POČETNA</a>
        <a href="o meni.html">O MENI</a>
        <a href="usluge.html">USLUGE</a>
        <a href="kontakt.html" class="active">KONTAKT</a>
    </div>
</nav>

<main> 
    <div class="slanjeporuke">
        <h1>Kontaktirajte nas</h1>
       
        <form id="kontakt" method="post" enctype="text/plain">
            <label class="label" for="ime">Ime:</label>
            <input type="text" id="ime" name="ime" required>
            
            <label class="label" for="email">Email:</label>
            <input type="email" id="email" name="email" required>
            
            <label class="label" for="poruka">Poruka:</label>
            <textarea id="poruka" name="poruka" rows="6" required></textarea>
            
            <button class="buton" type="button" onclick="SendMail()">Pošalji</button>
        </form>
    </div>
</main>

<footer>
    <p class="centered"> &copy; 2024 daniel petric. Sva prava zadržana.</p>
    <div class="datum_i_sat">
        <p id="datum_i_sat"></p>
    </div>
</footer>

<script src="JavaScript/datum_i_sat.js"></script>

</body>
</html>
